<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Fonts -->
    <!-- <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Dosis:300|Open+Sans"> -->

    <!-- Boostrap CSS -->
    <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous"> -->
    <link rel="stylesheet" href="js/bootstrap-4.1.2-dist/css/bootstrap.min.css" type="text/css">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
    <!-- <link rel="stylesheet" href="js/fontawesome/all.css" type="text/css"> -->

    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css" type="text/css">
    <!-- <link rel="stylesheet" href="css/nav-style.css" type="text/css"> -->

    <!-- <script src="js/jquery-3.3.1.min.js"></script> -->
    <!-- Jquery -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>

    <!-- Boostrap JS -->
    <!-- <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script> -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script> -->
    <!-- <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script> -->
    <script src="js/bootstrap-4.1.2-dist/js/bootstrap.min.js"></script>

    <!-- D3 -->
    <!-- <script src="https://d3js.org/d3.v4.min.js"></script> -->
    <script src="js/d3/d3.min.js"></script>
    <!-- <script src="https://d3js.org/d3-drag.v1.min.js"></script> -->

    <!-- Slider -->
    <script src="js/slider/wnumb/wNumb.js"></script>
    <script src="js/slider/nouislider.js"></script>

    <!-- jQuery Serialize Object -->
    <script src="js/jquery.serialize-object.min.js"></script>

    <!-- FontAwesome -->
    <script src="js/fontawesome/all.js"></script>

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
    <link rel="manifest" href="/favicon/manifest.json">
    <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="theme-color" content="#ffffff">
</head>

<body class="form-body">

    <!-- Modal -->
    <div class="modal fade" id="editBattleModal" tabindex="-1" role="dialog" aria-labelledby="editBattleModalTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editBattleModalTitle">Update a record</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
                </div>
                <div class="modal-body">
                    <form id="updateBattleForm" method="POST" action="">
                        <div class="form-row">

                            <input type="hidden" name="type" value="Battle" id="edittype">
                            <input type="hidden" name="geometry[types]" value="Point" id="editgeoType">
                            <input type="hidden" name="id" value="" id="editid">

                            <div class="col-md-12">
                                <h3>Basic information</h3>
                            </div>

                            <div class="form-group required col-md-12">
                                <label class="control-label" for="name">Battle name</label>
                                <input class="form-control" type="text" name="properties[name]" id="editname" placeholder="Battle name" required>
                            </div>

                            <div class="form-group required col-md-12">
                                <label class="control-label" for="editmainsource">Main source name</label>
                                <input class="form-control" type="text" name="properties[mainsource]" id="editmainsource" placeholder="Main source name" required disabled>
                            </div>

                            <div class="form-group required col-md-3">
                                <label class="control-label" for="name">Battle date</label>
                                <input class="form-control" type="number" name="properties[date]" id="editdate" min="0" placeholder="YYYY" required>
                            </div>

                            <div class="form-group required col-md-6">
                                <label class="control-label">Battle location</label>
                                <div class="input-group mb-3">
                                    <input class="form-control" type="number" name="geometry[coordinates][1]" id="editlng" min="0" step="any" placeholder="Latitude" required>
                                    <input class="form-control" type="number" name="geometry[coordinates][0]" id="editlat" min="0" step="any" placeholder="Longtitude" required>
                                </div>
                            </div>

                            <div class="form-group col-md-3">
                                <label class="control-label" for="name">Victims number</label>
                                <input class="form-control" type="number" name="properties[deaths]" id="editdeaths" placeholder="Victims number" min="0">
                            </div>
                        </div>

                        <div class="form-row upload-container">
                            <div class="col-md-12">
                                <h3>Sources</h3>
                            </div>
                            <div class="inside-wrapper"></div>
                            <div class="add-more-container">
                                <hr>
                                <span class="add-more-text">Add more sources</span>
                                <i id="addmorebtn" class="fas fa-plus-circle fa-lg add-more-icon"></i>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="col-md-12">
                                <h3>Additional information</h3>
                            </div>

                            <div class="form-group col-md-12">
                                <label class="control-label">Source</label>
                                <input class="form-control" type="text" name="properties[source]" id="editsrc" placeholder="Book, author, page number etc.">
                            </div>

                            <div class="form-group col-md-12">
                                <label class="control-label">Link to an additional source</label>
                                <input class="form-control" type="text" name="properties[link]" id="editurl" placeholder="https://someurl">
                            </div>

                            <div class="form-group col-md-12">
                                <label class="control-label">Link to an image</label>
                                <input class="form-control" type="text" name="properties[img]" id="editimg" placeholder="https://someurl.[png/jpg]">
                            </div>

                            <div class="form-group col-md-12">
                                <label class="control-label">Optional text</label>
                                <!-- <textarea class="form-control" type="text" name="properties[text]" id="edittext" placeholder="Any text/quote/description"></textarea> -->
                                <input id="edittext" class="form-control" type="text" name="properties[text]" placeholder="Any text/quote/description">
                            </div>

                            <div class="col-12 text-right">
                                <input type="submit" class="btn-outline-dark btn">
                            </div>
                        </div>
                    </form>
                </div>
                <!-- <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Save changes</button>
                </div> -->
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top inside-form" id="mainNav">
        <div class="container">
            <a class="navbar-brand js-scroll-trigger" href="./index.html"><span>SourceViz</span></a>
            <!-- <img src="./img/icon.png" width="32px"> -->
            <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    Menu
                    <i class="fa fa-bars"></i>
                  </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="./explore.html">Explore</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="./backend.html">Manage Data</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="./about.html">About</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Form container -->
    <div class="container form-container">
        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item">
                <a class="nav-link active" id="battles-list-tab" data-toggle="tab" href="#battles-list" role="tab" aria-controls="battles-list" aria-selected="false">All battles</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="add-new-tab" data-toggle="tab" href="#add-new" role="tab" aria-controls="add-new" aria-selected="true">Add new entry</a>
            </li>
        </ul>
        <div class="tab-content" id="myTabContent">
            <div class="tab-pane fade show active text-center" id="battles-list" role="tabpanel" aria-labelledby="battles-list-tab">
                <input type="text" id="searchListBar" class="searchbar" onkeyup="searchBattles(this)" placeholder="Search for names and dates">
                <div class="list-group" id="mylist">
                </div>
                <form id="resetForm" action="" method="POST">
                    <input type="submit" class="btn-outline-dark btn" value="Reset the database">
                </form>
            </div>
            <div class="tab-pane fade" id="add-new" role="tabpanel" aria-labelledby="add-new-tab">
                <!-- <div class="row"> -->
                <form id="battleForm" method="POST" action="">
                    <div class="form-row">

                        <input type="hidden" name="type" value="Battle" id="type">
                        <input type="hidden" name="geometry[types]" value="Point" id="geoType">

                        <div class="col-md-12">
                            <h3>Basic information</h3>
                        </div>

                        <div class="form-group required col-md-12">
                            <label class="control-label" for="name">Battle name</label>
                            <input class="form-control" type="text" name="properties[name]" id="name" placeholder="Battle name" required>
                        </div>

                        <div class="form-group required col-md-12">
                            <label class="control-label" for="mainsource">Main source name</label>
                            <input class="form-control" type="text" name="properties[mainsource]" id="mainsource" placeholder="Main source name" required>
                        </div>

                        <!-- <div class="form-group required col-md-3">
                            <label class="control-label" for="mainsourceicon">Icon</label>
                            <input class="form-control" type="text" name="properties[mainsource]" id="mainsourceicon" placeholder="Main source name" required>
                            <select id="mainsourceicon"></select>
                        </div> -->

                        <div class="form-group required col-md-3">
                            <label class="control-label" for="name">Battle date</label>
                            <input class="form-control" type="number" name="properties[date]" id="date" min="0" placeholder="YYYY" required>
                        </div>

                        <div class="form-group required col-md-6">
                            <label class="control-label">Battle location</label>
                            <div class="input-group mb-3">
                                <input class="form-control" type="number" name="geometry[coordinates][]" id="lng" min="0" step="any" placeholder="Latitude" required>
                                <input class="form-control" type="number" name="geometry[coordinates][]" id="lat" min="0" step="any" placeholder="Longtitude" required>
                            </div>
                        </div>

                        <div class="form-group col-md-3">
                            <label class="control-label" for="deaths">Victims number</label>
                            <input class="form-control" type="number" name="properties[deaths]" id="deaths" placeholder="Victims number" min="0">
                        </div>
                    </div>

                    <div class="form-row upload-container">
                        <div class="col-md-12">
                            <h3>Sources</h3>
                        </div>

                        <div class="form-group col-md-12">
                            <label class="control-label" for="pdf-file">PDF file</label>
                            <input class="form-control" type="file" name="file" id="pdf_file" accept="application/pdf">
                        </div>

                        <input type="hidden" name="pdf[][src]" value="" id="pdf_src">

                        <div class="form-group col-md-5">
                            <label class="control-label" for="source_name">Source title</label>
                            <input class="form-control" type="text" name="pdf[][name]" id="source_name" placeholder="Source title">
                        </div>

                        <div class="form-group col-md-5">
                            <label class="control-label" for="author_name">Author name</label>
                            <input class="form-control" type="text" name="pdf[][author]" id="author_name" placeholder="Author name">
                        </div>

                        <div class="form-group col-md-2">
                            <label class="control-label">Starting page</label>
                            <input id="start_page" class="form-control" type="number" name="pdf[][startpage]" placeholder="Starting page (1 by default)" min="1">
                        </div>

                        <div class="form-group col-md-12">
                            <label class="control-label">Additional information</label>
                            <!-- <textarea class="form-control" name="pdf[][extra]" placeholder="Additional information"></textarea> -->
                            <input id="extra_info" class="form-control" type="text" name="pdf[][extra]" placeholder="Additional information">
                        </div>

                        <div class="add-more-container">
                            <hr>
                            <span class="add-more-text">Add more sources</span>
                            <i id="addmorebtn" class="fas fa-plus-circle fa-lg add-more-icon"></i>
                        </div>

                    </div>

                    <div class="form-row">
                        <div class="col-md-12">
                            <h3>Additional information</h3>
                        </div>

                        <div class="form-group col-md-12">
                            <label class="control-label">References</label>
                            <input class="form-control" type="text" name="properties[source]" id="src" placeholder="Book, author, page number etc.">
                        </div>

                        <div class="form-group col-md-12">
                            <label class="control-label">Link to an additional source</label>
                            <input class="form-control" type="text" name="properties[link]" id="url" placeholder="https://someurl">
                        </div>

                        <div class="form-group col-md-12">
                            <label class="control-label">Link to an image</label>
                            <input class="form-control" type="text" name="properties[img]" id="img" placeholder="https://someurl.[png/jpg]">
                        </div>

                        <div class="form-group col-md-12">
                            <label class="control-label">Optional text</label>
                            <!-- <textarea class="form-control" type="text" name="properties[text]" id="text" placeholder="Any text/quote/description"></textarea> -->
                            <input id="edittext" class="form-control" type="text" name="properties[text]" placeholder="Any text/quote/description">
                        </div>

                        <div class="col-12 text-right">
                            <input type="submit" class="btn-outline-dark btn">
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="js/json-crud.js"></script>
</body>

</html>